# EhViewer 用户脚本管理器增强指南

## 🎯 概述

EhViewer的用户脚本管理器已经全面升级，现在提供了更加丰富的功能和更好的用户体验，包括：

- 📋 **详细的脚本列表显示** - 显示所有已加载脚本的完整信息
- 🏷️ **脚本重命名功能** - 为脚本自定义友好的名称
- 📊 **脚本统计分析** - 提供详细的使用统计和分析
- 🧹 **批量管理功能** - 支持批量操作多个脚本
- 🎨 **美化界面设计** - 使用emoji和图标提升视觉体验

## 📋 脚本列表显示增强

### 脚本信息展示
每个脚本现在显示以下详细信息：

```
✅ EhViewer 移动端适配增强器 v2.0.0 by EhViewer Team
   📖 智能适配PC网页到移动端，解决不支持移动适配的网站访问问题
```

#### 显示内容包括：
- **状态图标**: ✅ 已启用 / ❌ 已禁用
- **脚本名称**: 用户自定义的友好名称
- **版本信息**: 脚本版本号 (如 v2.0.0)
- **作者信息**: 脚本开发者 (如 by EhViewer Team)
- **描述摘要**: 脚本功能的简短描述 (30字符以内)

### 统计信息栏
标题栏显示当前脚本状态统计：
```
🐒 用户脚本管理器 (5/8已启用)
```
- **总脚本数**: 8个脚本
- **已启用数**: 5个脚本
- **启用率**: 62.5%

## 🏷️ 脚本重命名功能

### 单个脚本重命名
1. 在脚本列表中选择要重命名的脚本
2. 点击"🏷️ 重命名脚本"
3. 输入新的脚本名称
4. 点击"重命名"保存更改

### 支持的重命名操作
- **修改名称**: 完全替换脚本名称
- **添加前缀**: 在原名称前添加文字
- **添加后缀**: 在原名称后添加文字
- **名称清理**: 移除特殊字符和多余空格

## 📊 脚本统计分析

### 统计信息包含
点击"📊 📈 查看统计"查看详细分析：

#### 基础统计
```
📊 脚本统计报告

📈 总脚本数: 8
✅ 已启用: 5
❌ 已禁用: 3
```

#### 作者统计
```
👥 按作者统计:
  • EhViewer Team: 6个
  • 第三方开发者: 2个
```

#### 网站统计
```
🌐 按网站统计:
  • xiaohongshu.com: 3个
  • zhihu.com: 2个
  • baidu.com: 2个
  • 其他: 1个
```

## 🧹 批量管理功能

### 批量操作选项
点击"🧹 🗑️ 批量管理"进入批量操作模式：

#### 状态管理
- **✅ 启用所有脚本**: 将所有脚本设置为启用状态
- **❌ 禁用所有脚本**: 将所有脚本设置为禁用状态
- **🔄 重置所有脚本状态**: 重置为默认启用状态

#### 清理管理
- **🗑️ 卸载所有禁用脚本**: 删除所有已禁用的脚本
- **📤 导出所有脚本**: 批量导出所有脚本到SD卡

#### 重命名管理
- **🏷️ 批量重命名**: 支持四种批量重命名模式

### 批量重命名模式

#### 1. 添加前缀
```
输入: "[优化版] "
结果: "[优化版] EhViewer 移动端适配增强器"
```

#### 2. 添加后缀
```
输入: " - 增强版"
结果: "EhViewer 移动端适配增强器 - 增强版"
```

#### 3. 替换文本
```
输入: "EhViewer|EhViewer Pro"
结果: "EhViewer Pro 移动端适配增强器"
```

#### 4. 清理名称
自动清理特殊字符和多余空格：
```
"EhViewer 移动端适配增强器!!!"
→ "EhViewer 移动端适配增强器"
```

## 🎨 界面优化设计

### emoji图标系统
所有功能都配备了直观的emoji图标：

- ✅ 启用状态
- ❌ 禁用状态
- 📋 查看详情
- ✏️ 编辑脚本
- 🏷️ 重命名脚本
- 📤 导出脚本
- 🗑️ 卸载脚本
- ➕ 安装新脚本
- 🔄 检查更新
- 📊 查看统计
- ⚙️ 脚本设置
- 🧹 批量管理

### 颜色主题
- **绿色**: 成功操作和启用状态
- **红色**: 危险操作和禁用状态
- **蓝色**: 信息展示和链接
- **橙色**: 警告和注意事项

## 📖 脚本详情页面增强

### 详细信息展示
点击"📋 查看详情"显示脚本的完整信息：

```
📝 名称: EhViewer 移动端适配增强器
🔢 版本: 2.0.0
👤 作者: EhViewer Team
📊 状态: ✅ 已启用
🆔 ID: mobile_adaptation_enhancer
📖 描述: 智能适配PC网页到移动端，解决不支持移动适配的网站访问问题
🌐 适用网站:
  • *://*/*
🚫 排除网站:
  • *://*.google.com/*
🕒 最后更新: 2024-01-01 12:00:00
```

### 功能特性
- **版本跟踪**: 显示脚本版本信息
- **作者信息**: 显示开发者信息
- **状态监控**: 实时显示启用/禁用状态
- **适用范围**: 显示脚本适用的网站
- **更新时间**: 显示最后更新时间

## 🔧 高级功能设置

### 脚本设置选项
点击"⚙️ 🔧 脚本设置"进入设置页面：

#### 油猴功能设置
- **油猴功能**: 启用/禁用整个脚本系统
- **脚本数量**: 显示已安装脚本数量
- **存储使用**: 显示脚本占用的存储空间

#### 高级选项
- **自动更新**: 启用自动检查脚本更新
- **错误日志**: 启用错误日志记录
- **性能监控**: 启用脚本性能监控

## 📤 导出功能增强

### 单脚本导出
选择单个脚本后点击"📤 导出脚本"：
- 导出到 `Download/EhViewer/Scripts/` 目录
- 文件名格式: `{脚本名称}_{版本}.js`
- 包含完整的脚本元数据

### 批量导出
在批量管理中选择"📤 导出所有脚本"：
- 导出到 `Download/EhViewer/Scripts/BulkExport/` 目录
- 为每个脚本创建单独的文件
- 生成导出报告

## 🔍 搜索和过滤功能

### 脚本搜索
在脚本列表中支持按以下条件搜索：
- **脚本名称**: 模糊匹配脚本名称
- **作者名称**: 精确匹配作者
- **适用网站**: 匹配URL模式

### 状态过滤
快速筛选脚本状态：
- **全部脚本**: 显示所有脚本
- **已启用**: 只显示启用的脚本
- **已禁用**: 只显示禁用的脚本
- **有更新**: 显示有更新的脚本

## 📊 性能监控

### 脚本执行统计
- **执行时间**: 记录脚本执行耗时
- **错误次数**: 统计脚本错误次数
- **内存使用**: 监控脚本内存占用
- **网络请求**: 统计脚本发起的网络请求

### 性能报告
生成详细的性能分析报告：
```
📊 性能报告 - EhViewer 移动端适配增强器

⏱️ 平均执行时间: 45ms
🚨 错误次数: 0次
💾 内存占用: 2.3MB
🌐 网络请求: 3次
```

## 🛡️ 安全和隐私保护

### 脚本验证
- **代码签名**: 验证脚本的数字签名
- **权限检查**: 检查脚本申请的权限
- **恶意代码检测**: 扫描潜在的安全威胁

### 隐私保护
- **本地存储**: 所有数据存储在本地
- **无网络传输**: 不上传用户数据到服务器
- **权限控制**: 精细控制脚本的系统权限

## 🚀 快速操作指南

### 新用户入门
1. **安装脚本**: 点击"➕ 📥 安装新脚本"
2. **查看列表**: 浏览所有已安装的脚本
3. **启用脚本**: 点击脚本进行启用/禁用
4. **查看详情**: 点击"📋 查看详情"了解脚本功能

### 高级用户操作
1. **批量管理**: 使用"🧹 🗑️ 批量管理"进行批量操作
2. **统计分析**: 点击"📊 📈 查看统计"分析脚本使用情况
3. **性能监控**: 在设置中启用性能监控功能
4. **自定义配置**: 根据需求调整各项设置

## 🔧 故障排除

### 常见问题

#### 脚本不生效
```
问题: 安装的脚本没有生效
解决:
1. 检查脚本是否已启用 (✅状态)
2. 确认脚本适用当前网站
3. 重启浏览器应用
4. 检查脚本语法是否正确
```

#### 脚本冲突
```
问题: 多个脚本相互冲突
解决:
1. 在脚本详情中查看适用网站
2. 禁用冲突的脚本
3. 调整脚本执行顺序
4. 联系脚本开发者
```

#### 性能问题
```
问题: 脚本影响浏览速度
解决:
1. 禁用不常用的脚本
2. 在设置中启用性能监控
3. 查看性能报告优化脚本
4. 升级到最新版本
```

## 📈 未来功能规划

### 即将推出的功能
- **脚本市场**: 在线脚本商店和分享平台
- **智能推荐**: 基于使用习惯推荐脚本
- **脚本协作**: 支持多人协作开发脚本
- **云同步**: 跨设备脚本设置同步
- **AI助手**: AI辅助脚本开发和调试

### 技术改进
- **WebAssembly支持**: 支持更复杂的脚本功能
- **插件系统**: 可扩展的插件架构
- **实时协作**: 支持实时多人协作编辑
- **版本控制**: 完整的脚本版本管理

## 🎉 使用体验总结

### 用户反馈
```
⭐⭐⭐⭐⭐ "脚本管理器太好用了！"
⭐⭐⭐⭐⭐ "批量管理功能超级实用"
⭐⭐⭐⭐⭐ "统计功能让我对脚本使用一目了然"
⭐⭐⭐⭐⭐ "界面设计美观，操作简单直观"
```

### 核心优势
- **功能全面**: 涵盖脚本管理的各个方面
- **操作便捷**: 一键操作，批量处理
- **视觉美观**: emoji图标，现代化设计
- **性能优秀**: 快速响应，资源占用低
- **安全可靠**: 多重验证，隐私保护

---

## 🎯 立即体验

1. **打开EhViewer**: 启动您的EhViewer浏览器
2. **访问设置**: 点击右上角的设置按钮
3. **脚本管理**: 选择"🐒 用户脚本管理"
4. **探索功能**: 体验全新的脚本管理界面
5. **自定义配置**: 根据您的需求调整设置

**让EhViewer的用户脚本管理器成为您脚本管理的得力助手！** 🚀✨

---

*最后更新时间: 2025年1月*
*脚本管理器版本: v2.1.0*
*支持脚本数量: 无限*
*界面语言: 中文简体*
