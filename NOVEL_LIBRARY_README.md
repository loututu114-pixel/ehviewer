# 📚 小说书库功能说明

## 🎯 功能概述

EhViewer 现已集成了智能小说书库功能，能够自动识别色情小说内容，并提供专属的阅读体验。该功能类似UC浏览器的书库系统，让您能够方便地管理和阅读收藏的小说。

## ✨ 主要功能

### 1. **智能小说识别**
- 🔍 **自动检测**：浏览网页时自动识别色情小说内容
- 🧠 **AI分析**：基于关键词和结构特征的智能识别
- 📊 **准确率高**：支持多种中文和英文色情小说网站

### 2. **小说书库管理**
- 📖 **本地收藏**：将喜欢的小说保存到本地书库
- 📂 **分类管理**：自动区分普通小说和色情小说
- 🔄 **阅读进度**：保存和恢复阅读进度
- 🏷️ **书签功能**：为小说添加书签标记

### 3. **专属阅读体验**
- 🌙 **夜间模式**：专为成人内容优化的夜间阅读模式
- 📱 **沉浸体验**：类似图片查看器的全屏阅读
- 🔤 **字体调节**：可调节字体大小和颜色
- 👆 **手势操作**：支持点击、双击、滑动等手势

## 🚀 如何使用

### 步骤1：检测小说内容
1. 在浏览器中打开一个小说网站
2. 点击菜单按钮（≡）
3. 选择 **"📖 检测小说内容"**
4. 系统会自动分析当前页面

### 步骤2：添加到书库
1. 当检测到小说内容时，会弹出确认对话框
2. 选择 **"添加到书库"** 或 **"直接阅读"**
3. 小说会被保存到本地书库中

### 步骤3：管理书库
1. 在菜单中选择 **"📚 小说书库"**
2. 查看所有收藏的小说
3. 点击小说开始阅读
4. 长按小说可进行删除等操作

## 🎨 支持的网站

### 色情小说网站
- 18xs.org - 18小说网
- sewenhua.com - 色文化
- 18novel.com - 18小说
- qingdou.net - 青豆小说
- dajianet.com - 大家小说网
- ranwen.net - 燃文小说
- xxbiquge.com - 最新笔趣阁
- luoqiuzw.com - 落秋中文网
- yushuwu.com - 御书屋
- hentai2read.com - Hentai2Read

### 普通小说网站
- qidian.com - 起点中文网
- jjwxc.net - 晋江文学城
- zongheng.com - 纵横中文网
- 17k.com - 17K小说网
- fanqienovel.com - 番茄小说
- 其他主流小说网站

## 🔧 高级设置

### 字体和显示
- **字体大小**：12sp - 30sp 可调
- **背景颜色**：白天/夜间模式切换
- **文字颜色**：自动适应背景色

### 广告屏蔽
- 自动屏蔽博彩广告
- 屏蔽色情网站广告
- 支持自定义广告过滤规则

## 📱 手势操作指南

| 手势 | 功能 |
|------|------|
| **单击屏幕** | 显示/隐藏控制面板 |
| **双击屏幕** | 切换全屏模式 |
| **长按屏幕** | 显示上下文菜单 |
| **滑动进度条** | 调整阅读进度 |
| **点击章节按钮** | 切换章节（开发中） |

## 🔄 更新日志

### v1.0.0 (当前版本)
- ✅ 智能小说内容识别
- ✅ 本地小说书库管理
- ✅ 专属阅读界面
- ✅ 夜间模式支持
- ✅ 广告自动屏蔽
- ✅ 多种网站支持

### 计划功能
- 🔄 章节切换功能
- 🔄 书签管理系统
- 🔄 云端同步功能
- 🔄 阅读统计分析
- 🔄 离线下载支持

## 🐛 问题反馈

如果您在使用过程中遇到问题，请：

1. 检查小说网站是否在支持列表中
2. 确认页面内容已完全加载
3. 尝试刷新页面后重新检测
4. 查看日志输出获取详细信息

## 📋 技术说明

### 识别算法
- **关键词匹配**：基于色情词汇库进行内容识别
- **结构分析**：检测小说特有的章节和段落结构
- **网站特征**：识别已知的色情小说网站域名

### 数据存储
- **SQLite数据库**：本地小说信息存储
- **SharedPreferences**：阅读设置和偏好存储
- **文件系统**：小说内容缓存

### 性能优化
- **异步处理**：内容提取和识别异步执行
- **内存管理**：智能清理和缓存管理
- **UI优化**：流畅的滚动和响应

---

**享受您的专属小说阅读体验！** 📖✨
