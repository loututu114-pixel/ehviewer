# EhViewer 用户脚本使用指南

## 📋 脚本列表

### 1. 小说阅读增强器 (`novel_reader_enhancer.js`)
- **适用场景**: 小说网站、阅读页面
- **主要功能**:
  - 📖 自动翻页功能
  - 🎨 字体和布局优化
  - 🌙 夜间模式切换
  - 📊 阅读进度保存
  - 🚫 广告自动拦截
  - ⌨️ 键盘快捷键支持

### 2. 成人网站增强器 (`adult_site_enhancer.js`)
- **适用场景**: 成人视频网站
- **支持网站**: Pornhub, Xvideos, Xhamster, YouPorn, RedTube等
- **主要功能**:
  - 🚫 广告自动拦截
  - 🎬 视频画质自动选择
  - ⏭️ 广告自动跳过
  - 🔊 音量增强功能
  - ⌨️ 全键盘控制
  - 🔒 隐私保护

### 3. 通用广告拦截器 (`universal_ad_blocker.js`)
- **适用场景**: 所有网站
- **主要功能**:
  - 🚫 全面广告拦截
  - 📊 拦截统计报告
  - ⚙️ 白名单管理
  - 🛡️ 跟踪器拦截
  - 🎯 弹窗拦截

### 4. 视频播放增强器 (`video_player_enhancer.js`)
- **适用场景**: 视频网站
- **支持网站**: YouTube, Bilibili, 爱奇艺, 腾讯视频等
- **主要功能**:
  - 🎬 自动画质选择
  - ⏭️ 广告自动跳过
  - ⚡ 播放速度控制
  - 🎭 剧场模式
  - 🔊 音量增强
  - ⌨️ 键盘快捷键

### 5. 图片优化器 (`image_optimizer.js`)
- **适用场景**: 图库、相册、图片浏览页面
- **主要功能**:
  - 📥 图片预加载
  - 🔍 图片缩放查看
  - 🖼️ 画廊模式
  - 💾 批量下载
  - ⚡ 懒加载优化

## 🚀 安装方法

### 方法一：直接安装（推荐）
1. 打开EhViewer浏览器
2. 点击设置按钮（⚙️）
3. 选择"🐒 用户脚本管理"
4. 点击"➕ 安装新脚本"
5. 复制粘贴脚本内容，或输入脚本URL
6. 点击"安装"

### 方法二：从文件导入
1. 将脚本文件保存到手机存储
2. 在脚本管理界面选择"从文件导入"
3. 选择对应的脚本文件

## ⚙️ 脚本配置

### 通用设置
- **启用/禁用**: 在脚本管理中切换
- **查看详情**: 查看脚本信息和设置
- **编辑脚本**: 直接修改脚本代码
- **导出脚本**: 保存脚本到下载文件夹
- **卸载脚本**: 完全移除脚本

### 个性化配置
每个脚本都支持以下配置：
- 功能开关
- 参数调整
- 快捷键设置
- 白名单管理

## ⌨️ 快捷键说明

### 小说阅读增强器
- `空格键`: 翻页
- `↑↓`: 滚动
- `N`: 夜间模式切换
- `ESC`: 隐藏控制面板

### 成人网站增强器
- `P`: 播放/暂停
- `F`: 全屏切换
- `M`: 静音切换
- `↑↓`: 音量调节
- `ESC`: 隐藏面板

### 视频播放增强器
- `K`: 播放/暂停
- `F`: 全屏
- `M`: 静音
- `←→`: 进度控制（10秒）
- `↑↓`: 音量控制
- `C`: 字幕切换
- `N`: 下一集

### 图片优化器
- `Ctrl+G`: 画廊模式
- `Ctrl+S`: 保存图片
- `Ctrl+Z`: 缩放模式
- `Ctrl+P`: 预加载切换
- `←→`: 图片切换（在查看器中）

## 🎯 使用建议

### 性能优化
1. **按需启用**: 只在需要的网站启用相关脚本
2. **定期清理**: 删除不再使用的脚本
3. **监控统计**: 查看广告拦截等统计信息

### 最佳实践
1. **组合使用**: 可以同时启用多个脚本获得最佳体验
2. **设置白名单**: 对信任的网站设置白名单
3. **定期更新**: 检查脚本更新以获得新功能

### 网站兼容性
- 脚本会自动检测网站类型并应用相应优化
- 支持主流中文和英文网站
- 对于特殊网站可能需要手动调整配置

## 🔧 高级配置

### 脚本参数调整
```javascript
// 在脚本管理中编辑脚本，修改以下配置项：
const config = {
    autoScroll: true,        // 自动滚动
    nightMode: false,        // 夜间模式
    fontSize: 18,           // 字体大小
    lineHeight: 1.8,        // 行高
    hideAds: true,          // 隐藏广告
    autoSaveProgress: true, // 自动保存进度
    keyboardShortcuts: true // 键盘快捷键
};
```

### 自定义规则
```javascript
// 添加自定义网站规则
const customRules = {
    'example.com': {
        selectors: {
            content: '.custom-content',
            ads: '.custom-ads'
        }
    }
};
```

## 📊 统计和监控

### 拦截统计
- 广告拦截数量
- 弹窗拦截数量
- 跟踪器拦截数量
- 图片加载统计

### 性能监控
- 脚本执行时间
- 内存使用情况
- 网络请求统计

## 🆘 故障排除

### 脚本不生效
1. 检查脚本是否已启用
2. 确认网站匹配规则正确
3. 查看浏览器控制台错误信息
4. 尝试刷新页面

### 性能问题
1. 禁用不必要的脚本
2. 清理浏览器缓存
3. 重启应用
4. 检查脚本更新

### 兼容性问题
1. 某些网站可能有特殊防护
2. 移动端适配可能不完善
3. 网络问题可能影响功能

## 📝 更新日志

### v2.0.0 (最新)
- ✅ 重写所有脚本核心逻辑
- ✅ 增强网站兼容性
- ✅ 优化性能和稳定性
- ✅ 新增更多自定义选项
- ✅ 改进用户界面

## 🤝 贡献

欢迎提交：
- 新的脚本功能
- 网站兼容性改进
- 性能优化建议
- 用户体验改进

## 📜 开源协议

这些用户脚本基于 MIT 许可证开源，允许自由使用和修改。

---

**提示**: 建议定期检查脚本更新，以获得最新的功能和兼容性改进。
