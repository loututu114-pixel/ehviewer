# =============================================================================
# EhViewerh 项目 Git 忽略规则配置
# 版本: v1.0 | 创建时间: 2025-09-10 | 最后更新: 2025-09-10
# 说明: 此配置遵循 Android 项目最佳实践，确保敏感信息安全
# =============================================================================

# ================================
# 🔒 安全敏感文件 (最高优先级)
# ================================
# 签名文件 - 绝不能泄露
*.keystore
*.jks
key.properties
signing.properties

# Firebase 和 Google 服务配置
google-services.json
firebase-adminsdk-*.json

# 包含敏感信息的配置文件
local.properties
secrets.properties
**/src/**/api_keys.xml

# 环境变量和密钥文件
.env
.env.*
**/*secret*
**/*password*
**/*credential*

# ================================
# 📱 Android 开发环境
# ================================
# Gradle 构建系统
.gradle/
/build/
/*/build/
/gradle.properties
# 保留 wrapper 但排除 gradle.properties
!gradle/wrapper/gradle-wrapper.jar
!gradle/wrapper/gradle-wrapper.properties

# Android Studio / IntelliJ IDEA
.idea/
*.iml
*.iws
/out/
/.idea/caches/
/.idea/libraries/
/.idea/modules.xml
/.idea/workspace.xml
/.idea/navEditor.xml
/.idea/assetWizardSettings.xml

# ================================
# 🔧 构建产物和缓存
# ================================
# APK 和 AAB 文件
*.apk
*.aab
*.ap_

# 构建目录
/app/build/
/*/build/
/build/
/captures/

# NDK 构建
.externalNativeBuild/
.cxx/
/app/.cxx/

# Dex 文件
*.dex

# ================================
# 📦 发布和测试文件
# ================================
# 发布包存储目录
@apk/
/release/
/release-*/
**/release-packages/

# 测试和调试文件
test_*.py
test_*.java
test_*.kt
**/test_*.db
error_logs/
crash_reports/
logcat_logs/
system_logs/
performance_logs/
*.log

# 临时测试目录
Ehviewer_CN_SXJ/
**/temp/
**/tmp/

# ================================
# 🗄️ 数据库和缓存文件
# ================================
# SQLite 数据库
*.db
*.db-journal
*.sqlite
*.sqlite3

# 缓存目录
cache/
.cache/
**/cache/

# ================================
# 💻 操作系统特定文件
# ================================
# macOS
.DS_Store
.DS_Store?
.AppleDouble
.LSOverride
._*

# Windows
Thumbs.db
Thumbs.db:encryptable
ehthumbs.db
ehthumbs_vista.db
*.stackdump
Desktop.ini
$RECYCLE.BIN/

# Linux
*~
.directory
.Trash-*

# ================================
# 📝 开发工具和编辑器
# ================================
# Visual Studio Code
.vscode/
!.vscode/settings.json
!.vscode/tasks.json
!.vscode/launch.json
!.vscode/extensions.json

# Vim
*.swp
*.swo
*~

# Emacs
*~
\#*\#
/.emacs.desktop
/.emacs.desktop.lock

# ================================
# 📋 文档和报告 (选择性忽略)
# ================================
# 自动生成的文档
**/build/docs/
**/javadoc/
**/generated-docs/

# 构建报告
build-report*.html
lint-results*.html
*.hprof

# ================================
# 🔄 版本控制和备份
# ================================
# 备份文件
*.bak
*.backup
*.old
*.orig
*.rej

# 补丁文件
*.patch
*.diff

# Git 相关
.git/
*.git

# ================================
# 🚀 部署和 CI/CD
# ================================
# GitHub Actions 生成的文件
.github/outputs/

# 部署密钥
deploy_key*
deployment.json

# ================================
# 📊 分析和监控
# ================================
# 性能分析
*.trace
*.prof

# 内存转储
*.hprof
*.dmp

# ================================
# 🎯 项目特定忽略规则
# ================================
# EhViewer 特定的临时文件
javac.*.args
sou.json
update.json

# 🔒 渠道商业信息 (高敏感度)
# 渠道配置和构建脚本
*channel*.sh
build_channel*.sh
CHANNEL_*.md
channel-*/
**/channel-*/
channel_*.json
channel_*.xml

# 合作方SDK和配置
*-sdk/
partner-*/
distribution/
**/partner-*/

# 渠道统计和分析
*channel*tracking*
*channel*analytics*
channel_stats.*
partner_analytics.*

# 商业合作文档
PARTNER_*.md
DISTRIBUTION_*.md
CHANNEL_BUILD_*.md
CHANNEL_PACKAGING_*.md

# 测试和调试
test_channel*.py
test_partner*.py
channel_test.*
partner_test.*

# =============================================================================
# 📚 使用说明
# =============================================================================
# 1. 更新此文件后，运行 `git add .gitignore` 
# 2. 如需强制忽略已跟踪的文件: `git rm --cached <file>`
# 3. 验证配置: `git status` 检查敏感文件是否仍被跟踪
# 4. 定期审查此配置，确保新增的敏感文件类型被正确忽略
# =============================================================================