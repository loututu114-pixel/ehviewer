# EhViewer v2.0.0.3 安装指南

> 快速安装指南 | 适用于Android 6.0+

## 📦 渠道选择

### 渠道对比

| 项目 | 渠道0000 (默认版本) | 渠道3001 (合作渠道) |
|------|-------------------|-------------------|
| **文件名** | `EhViewer-v2.0.0.3-channel-0000-default.apk` | `EhViewer-v2.0.0.3-channel-3001-partner.apk` |
| **适用用户** | 个人用户、直接下载 | 渠道推广、合作伙伴 |
| **功能差异** | 完整功能，无差异 | 完整功能，无差异 |
| **统计后台** | 默认统计服务器 | 合作渠道统计服务器 |
| **推荐场景** | 个人使用、测试 | 商业推广、效果统计 |

### 选择建议
- 🏠 **个人用户**: 选择渠道0000
- 🤝 **商业合作**: 选择渠道3001  
- 🔧 **开发测试**: 选择渠道0000

---

## 📲 安装步骤

### 1. 下载APK文件
```bash
# 下载地址示例
https://your-domain.com/releases/v2.0.0.3/
├── EhViewer-v2.0.0.3-channel-0000-default.apk
└── EhViewer-v2.0.0.3-channel-3001-partner.apk
```

### 2. 启用未知来源权限

#### Android 8.0+
1. 设置 → 应用和通知 → 特殊应用权限
2. 安装未知应用 → 选择浏览器或文件管理器  
3. 开启"允许来自此来源的应用"

#### Android 6.0-7.1
1. 设置 → 安全 → 未知来源
2. 勾选"允许安装未知来源的应用"

### 3. 安装应用
1. 打开下载的APK文件
2. 点击"安装"按钮
3. 等待安装完成
4. 点击"打开"启动应用

### 4. 首次启动配置
1. **网络连接**: 确保设备联网
2. **内核下载**: 等待X5内核下载（约30MB）
3. **权限授予**: 根据提示授予必要权限
4. **设置向导**: 完成初始设置

---

## 🔑 权限说明

### 必需权限

| 权限 | 用途 | 重要性 |
|------|------|-------|
| **存储权限** | 文件管理、下载功能 | 🔴 必需 |
| **网络权限** | 浏览器、统计功能 | 🔴 必需 |
| **相机权限** | 图片拍摄功能 | 🟡 可选 |
| **麦克风权限** | 视频录制功能 | 🟡 可选 |

### Android 11+ 特殊权限
```
设置 → 应用 → EhViewer → 权限 → 特殊权限 → 所有文件访问权限
```

### 权限授予步骤
1. 应用启动后会自动申请权限
2. 选择"允许"或"始终允许"
3. 对于存储权限，可能需要手动跳转到设置页面
4. 按照系统提示完成权限配置

---

## 🔧 首次使用

### 浏览器内核初始化
应用首次启动会自动下载腾讯X5内核：

```
1. 检测网络连接
2. 下载X5内核 (约30MB)
3. 安装内核组件
4. 初始化浏览器引擎
```

**预期耗时**: 2-5分钟（取决于网络速度）

### 降级机制
如果X5内核下载失败，应用会自动降级到原生WebView：
- ✅ 保证基础浏览功能可用
- ⚠️ 部分高级功能可能受限  
- 🔄 可在设置中重新尝试下载X5内核

### 用户脚本激活
内置的20+用户脚本会自动生效：
- 🚫 广告拦截功能
- 🎥 视频播放增强
- 📝 网站功能优化
- 🔧 界面自定义

---

## ⚠️ 常见问题

### 安装失败

#### 问题1: "应用未安装"
**解决方案**:
```
1. 检查设备存储空间（需要至少100MB）
2. 卸载旧版本应用
3. 重启设备后重新安装
4. 检查APK文件是否完整下载
```

#### 问题2: "解析包时出现问题"
**解决方案**:
```
1. 重新下载APK文件
2. 验证MD5校验和是否正确
3. 确认Android版本不低于6.0
4. 清理下载目录缓存
```

### 功能异常

#### 问题3: 浏览器无法打开网页
**解决方案**:
```
1. 检查网络连接状态
2. 等待X5内核下载完成
3. 重启应用重新初始化
4. 在设置中切换到原生WebView
```

#### 问题4: 文件管理功能不可用
**解决方案**:
```
1. 检查存储权限是否已授予
2. Android 11+需要"所有文件访问权限"
3. 重新授予权限后重启应用
4. 检查SD卡是否可正常访问
```

### 性能问题

#### 问题5: 应用启动缓慢
**解决方案**:
```
1. 清理应用缓存数据
2. 重启设备释放内存
3. 关闭不必要的后台应用
4. 确保可用内存不少于1GB
```

#### 问题6: 浏览器卡顿
**解决方案**:
```
1. 清理浏览器缓存
2. 关闭多余标签页
3. 重启浏览器组件
4. 检查网络连接稳定性
```

---

## 🔍 验证安装

### 功能检查清单

#### ✅ 基础功能验证
- [ ] 应用正常启动
- [ ] 主界面显示正常
- [ ] 设置页面可以打开
- [ ] 权限授予成功

#### ✅ 浏览器功能验证  
- [ ] 可以打开网页
- [ ] 地址栏输入正常
- [ ] 用户脚本已加载
- [ ] 下载功能可用

#### ✅ 文件管理验证
- [ ] 可以浏览文件目录
- [ ] 文件打开预览正常
- [ ] 复制移动操作成功
- [ ] APK安装功能可用

#### ✅ 画廊功能验证
- [ ] 画廊列表可以加载
- [ ] 图片查看正常
- [ ] 下载功能可用
- [ ] 收藏功能正常

### 性能检查
```
✅ 启动时间: < 3秒
✅ 内存占用: < 200MB (空闲状态)
✅ 网页加载: < 5秒 (普通网页)
✅ 文件操作: 响应及时
```

---

## 📊 统计功能说明

### 数据收集范围
v2.0.0.3版本会收集以下统计数据：

#### 📱 安装统计
- **触发时机**: 点击画廊任意按钮
- **收集数据**: 设备型号、系统版本、安装时间
- **发送频率**: 1分钟内最多1次

#### 🌐 下载统计  
- **触发时机**: 浏览器成功访问网页
- **收集数据**: 页面访问信息、网络状态
- **发送频率**: 1分钟内最多1次

#### 🎯 激活统计
- **触发时机**: 每天软件打开超过10次
- **收集数据**: 使用活跃度、功能偏好
- **发送频率**: 1分钟内最多1次

### 隐私保护
- 🔒 **数据匿名**: 不收集个人身份信息
- 🛡️ **本地优先**: 敏感数据仅本地处理
- 🎛️ **用户控制**: 可在设置中关闭统计
- 🔐 **安全传输**: HTTPS加密传输

### 关闭统计
如果不希望发送统计数据：
```
设置 → 隐私设置 → 关闭"发送统计数据"
```

---

## 🚀 使用技巧

### 浏览器优化
1. **启用广告拦截**: 设置 → 浏览器 → 广告拦截
2. **自定义用户脚本**: 设置 → 高级 → 用户脚本管理
3. **缓存管理**: 定期清理浏览器缓存
4. **下载设置**: 配置默认下载路径

### 文件管理效率
1. **快速搜索**: 使用搜索功能快速定位文件
2. **批量操作**: 长按选择多个文件进行批量操作
3. **书签功能**: 收藏常用文件夹为书签
4. **外部应用**: 关联默认打开应用

### 画廊优化
1. **缓存设置**: 调整图片缓存大小和策略
2. **下载管理**: 设置并发下载数量和重试次数
3. **标签管理**: 创建自定义标签分类
4. **收藏同步**: 启用云端收藏同步

---

## 📞 技术支持

### 自助服务
1. **应用内帮助**: 设置 → 帮助与反馈
2. **日志查看**: 设置 → 高级 → 查看日志
3. **重置应用**: 设置 → 高级 → 重置应用数据
4. **版本信息**: 设置 → 关于 → 版本信息

### 联系支持
- **GitHub Issues**: 报告Bug和功能请求
- **社区论坛**: 用户交流和经验分享
- **邮件支持**: 紧急问题联系
- **在线文档**: 详细使用指南

### 错误报告
当遇到问题时，请提供以下信息：
```
1. 设备型号和Android版本
2. 应用版本号 (v2.0.0.3)
3. 错误发生的具体步骤
4. 错误截图或日志信息
5. 网络环境说明
```

---

**祝您使用愉快！**

*EhViewer v2.0.0.3 | 安装指南*  
*更新时间: 2025年9月10日*