# é»˜è®¤é¦–é¡µé…ç½®è¯´æ˜

## æ¦‚è¿°

EhViewer ç°åœ¨æ”¯æŒé€šè¿‡è¿œç¨‹é…ç½®æ–‡ä»¶åŠ¨æ€é…ç½®é»˜è®¤é¦–é¡µï¼Œå¯ä»¥æ ¹æ®å›½å®¶å’Œæ¸ é“æä¾›ä¸åŒçš„é¦–é¡µä½“éªŒã€‚

## é…ç½®æ–‡ä»¶ç»“æ„

### sou.json é…ç½®æ ¼å¼

```json
{
  "version": "1.1.0",
  "lastUpdate": "2024-01-01T00:00:00Z",
  "searchConfig": {
    "homepage": {
      "enabled": true,
      "url": "https://www.google.com",
      "china": "https://www.baidu.com",
      "title": "é»˜è®¤é¦–é¡µ",
      "customOptions": [
        {
          "name": "æ–°é—»é¦–é¡µ",
          "url": "https://news.google.com",
          "china": "https://news.baidu.com"
        }
      ]
    }
  }
}
```

### é…ç½®å‚æ•°è¯´æ˜

#### homepage å¯¹è±¡
- `enabled`: æ˜¯å¦å¯ç”¨é»˜è®¤é¦–é¡µåŠŸèƒ½ (boolean)
- `url`: é»˜è®¤é¦–é¡µURL (string)
- `china`: ä¸­å›½ç”¨æˆ·ä½¿ç”¨çš„é¦–é¡µURL (string)
- `title`: é¦–é¡µæ ‡é¢˜ (string)
- `customOptions`: è‡ªå®šä¹‰é¦–é¡µé€‰é¡¹æ•°ç»„ (array)

#### customOptions æ•°ç»„
æ¯ä¸ªé€‰é¡¹åŒ…å«ï¼š
- `name`: æ˜¾ç¤ºåç§° (string)
- `url`: é»˜è®¤URL (string)
- `china`: ä¸­å›½ç”¨æˆ·URL (stringï¼Œå¯é€‰)

## åŠŸèƒ½ç‰¹æ€§

### 1. æ™ºèƒ½å›½å®¶æ£€æµ‹
- è‡ªåŠ¨æ£€æµ‹ç”¨æˆ·å›½å®¶ä»£ç 
- ä¸­å›½ç”¨æˆ· (CN, HK, TW, MO, SG, MY) ä½¿ç”¨ç™¾åº¦ç­‰æœ¬åœŸæœåŠ¡
- å…¶ä»–å›½å®¶ä½¿ç”¨Googleç­‰å›½é™…æœåŠ¡

### 2. æ¸ é“ä¼˜å…ˆçº§
- æ”¯æŒä¸åŒåº”ç”¨æ¸ é“é…ç½®ä¸åŒé¦–é¡µ
- xiaomiã€huaweiã€oppoã€vivo ç­‰æ¸ é“å¯é…ç½®ä¸“ç”¨é¦–é¡µ

### 3. åŠ¨æ€æ›´æ–°
- 24å°æ—¶è‡ªåŠ¨æ£€æŸ¥è¿œç¨‹é…ç½®æ›´æ–°
- æ— éœ€åº”ç”¨æ›´æ–°å³å¯è°ƒæ•´é¦–é¡µé…ç½®
- æœ¬åœ°ç¼“å­˜ä¿è¯ç¦»çº¿å¯ç”¨

### 4. ç”¨æˆ·ç•Œé¢
- èœå•ä¸­"ğŸ  è®¾ç½®é¦–é¡µ"é€‰é¡¹
- æ˜¾ç¤ºå½“å‰é»˜è®¤é¦–é¡µ
- æä¾›é¢„è®¾çš„å¿«æ·é¦–é¡µé€‰é¡¹
- æ”¯æŒè®¾ç½®å½“å‰é¡µé¢ä¸ºé¦–é¡µ

## ä½¿ç”¨æ–¹æ³•

### 1. è¿œç¨‹é…ç½®
å°† `sou.json` æ–‡ä»¶ä¸Šä¼ åˆ° GitHub æˆ–å…¶ä»–å¯è®¿é—®çš„æœåŠ¡å™¨ï¼š
```
https://raw.githubusercontent.com/your-username/your-repo/main/sou.json
```

### 2. æœ¬åœ°é…ç½®
ä¿®æ”¹ `app/src/main/res/raw/sou.json` æ–‡ä»¶ä¸­çš„ homepage é…ç½®

### 3. è¿è¡Œæ—¶é…ç½®
åº”ç”¨ä¼šè‡ªåŠ¨ï¼š
- æ£€æµ‹ç”¨æˆ·å›½å®¶å’Œæ¸ é“
- ä¸‹è½½å¹¶åº”ç”¨è¿œç¨‹é…ç½®
- é€‰æ‹©æœ€åˆé€‚çš„é¦–é¡µ

## ç¤ºä¾‹é…ç½®

### åŸºç¡€é…ç½®
```json
{
  "homepage": {
    "enabled": true,
    "url": "https://www.google.com",
    "china": "https://www.baidu.com"
  }
}
```

### é«˜çº§é…ç½®
```json
{
  "homepage": {
    "enabled": true,
    "url": "https://www.google.com",
    "china": "https://www.baidu.com",
    "customOptions": [
      {
        "name": "æ–°é—»",
        "url": "https://news.google.com",
        "china": "https://news.baidu.com"
      },
      {
        "name": "è´­ç‰©",
        "url": "https://www.amazon.com",
        "china": "https://www.taobao.com"
      }
    ]
  }
}
```

## åˆ›æ”¶æœºåˆ¶

### 1. æ¸ é“å¹¿å‘Š
```json
{
  "ads": {
    "enabled": true,
    "channels": ["xiaomi", "huawei"],
    "homepageAds": {
      "enabled": true,
      "position": "top",
      "providers": ["baidu"]
    }
  }
}
```

### 2. æœç´¢å¹¿å‘Š
```json
{
  "ads": {
    "searchAds": {
      "enabled": true,
      "keywords": ["è´­ç‰©", "ä¹°", "ä»·æ ¼"],
      "providers": ["baidu", "google"]
    }
  }
}
```

## æŠ€æœ¯å®ç°

### SearchConfigManager
- å•ä¾‹æ¨¡å¼ç®¡ç†é…ç½®
- å¼‚æ­¥ä¸‹è½½è¿œç¨‹é…ç½®
- æœ¬åœ°ç¼“å­˜æœºåˆ¶
- å›½å®¶/æ¸ é“æ£€æµ‹

### WebViewActivity
- é›†æˆ SearchConfigManager
- æ™ºèƒ½é¦–é¡µåŠ è½½
- ç”¨æˆ·ç•Œé¢äº¤äº’

## æ³¨æ„äº‹é¡¹

1. **ç½‘ç»œæƒé™**: ç¡®ä¿åº”ç”¨æœ‰ç½‘ç»œæƒé™ä¸‹è½½è¿œç¨‹é…ç½®
2. **ç¼“å­˜ç­–ç•¥**: æœ¬åœ°ç¼“å­˜ä¿è¯ç¦»çº¿å¯ç”¨
3. **ç‰ˆæœ¬æ§åˆ¶**: ä½¿ç”¨ version å­—æ®µç®¡ç†é…ç½®ç‰ˆæœ¬
4. **å‘åå…¼å®¹**: æ”¯æŒæ—§ç‰ˆæœ¬é…ç½®æ ¼å¼

## æ›´æ–°æ—¥å¿—

### v1.1.0
- âœ… æ–°å¢é»˜è®¤é¦–é¡µé…ç½®åŠŸèƒ½
- âœ… æ”¯æŒå›½å®¶/æ¸ é“æ™ºèƒ½é€‰æ‹©
- âœ… æ·»åŠ è‡ªå®šä¹‰é¦–é¡µé€‰é¡¹
- âœ… æ”¯æŒè¿œç¨‹é…ç½®æ›´æ–°
- âœ… é›†æˆå¹¿å‘Šåˆ›æ”¶æœºåˆ¶

### v1.0.0
- âœ… åŸºç¡€æœç´¢åŠŸèƒ½
- âœ… å¤šæœç´¢å¼•æ“æ”¯æŒ
- âœ… URLæ™ºèƒ½è¯†åˆ«
