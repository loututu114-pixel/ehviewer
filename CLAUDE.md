# EhViewer Android é¡¹ç›®æ–‡æ¡£

> åŠŸèƒ½å¼ºå¤§çš„Androidå›¾ç‰‡æµè§ˆå™¨åº”ç”¨ï¼Œé›†æˆå®Œæ•´æµè§ˆå™¨åŠŸèƒ½ã€ç”¨æˆ·è„šæœ¬ç³»ç»Ÿã€æ–‡ä»¶ç®¡ç†ç­‰ç‰¹æ€§

## å˜æ›´è®°å½• (Changelog)

### 2025-09-06 03:01:06 - AIä¸Šä¸‹æ–‡æ¶æ„åˆ·æ–°
- æ·±åº¦æ‰«æå¹¶æ›´æ–°é¡¹ç›®æ¶æ„æ–‡æ¡£
- é‡æ–°è¯†åˆ«æ ¸å¿ƒæ¨¡å—ç»“æ„å’Œä¾èµ–å…³ç³»
- åˆ·æ–°æ¨¡å—ç´¢å¼•è¡¨å’ŒMermaidç»“æ„å›¾
- è¡¥å……æ–°å¢æ¨¡å—ï¼ˆæµè§ˆå™¨ã€æ–‡ä»¶ç®¡ç†ã€ç”¨æˆ·è„šæœ¬ç­‰ï¼‰çš„è¯¦ç»†ä¿¡æ¯
- æ›´æ–°æŠ€æœ¯æ ˆå’Œä¾èµ–ä¿¡æ¯ï¼ˆåŸºäºbuild.gradle.kts v2.0.0.1ï¼‰

### 2025-09-04 15:06:50 - é¡¹ç›®æ¶æ„æ–‡æ¡£åˆå§‹åŒ–
- ç”Ÿæˆé¡¹ç›®æ•´ä½“æ¶æ„æ–‡æ¡£
- åˆ›å»ºæ¨¡å—ç»“æ„å›¾å’Œç´¢å¼•
- å»ºç«‹AIä¸Šä¸‹æ–‡ç®¡ç†ç³»ç»Ÿ

## é¡¹ç›®æ„¿æ™¯

EhVieweræ˜¯ä¸€ä¸ªå¤šåŠŸèƒ½çš„Androidåº”ç”¨ï¼Œä¸»è¦ä¸“æ³¨äºï¼š
- **å›¾ç‰‡æµè§ˆ**ï¼šé«˜æ•ˆçš„ç”»å»Šæµè§ˆå’Œç®¡ç†ä½“éªŒï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
- **å†…ç½®æµè§ˆå™¨**ï¼šåŠŸèƒ½å®Œæ•´çš„WebViewæµè§ˆå™¨ï¼Œæ”¯æŒå„ç§ç½‘é¡µæ ‡å‡†ï¼Œè…¾è®¯X5å†…æ ¸å¢å¼º
- **ç”¨æˆ·è„šæœ¬ç³»ç»Ÿ**ï¼šç±»ä¼¼Tampermonkeyçš„è„šæœ¬ç®¡ç†ï¼Œæ”¯æŒç½‘ç«™å¢å¼ºå’Œè‡ªå®šä¹‰åŠŸèƒ½ï¼ˆ20+é¢„ç½®è„šæœ¬ï¼‰
- **æ–‡ä»¶ç®¡ç†**ï¼šæ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼çš„æŸ¥çœ‹å’Œç®¡ç†ï¼ˆAPKå®‰è£…ã€å¤šåª’ä½“æ’­æ”¾ç­‰ï¼‰
- **æ¸ é“å®šåˆ¶**ï¼šæ”¯æŒå¤šæ¸ é“æ‰“åŒ…å’Œç»Ÿè®¡åˆ†æï¼ˆå½“å‰æ¸ é“3001ï¼‰

## æ¶æ„æ€»è§ˆ

### æŠ€æœ¯æ ˆ
- **è¯­è¨€**: Java + Kotlin (JDK 17)
- **å¹³å°**: Android (minSdk 23, targetSdk 34, compileSdk 35)
- **æ¶æ„æ¨¡å¼**: MVP + Repository Pattern + EventBus
- **UIæ¡†æ¶**: AndroidX + Material Design + ViewBinding
- **ç½‘ç»œ**: OkHttp3 3.14.7 + è‡ªå®šä¹‰DNSå’Œä»£ç† + Conscrypt SSL
- **æ•°æ®åº“**: GreenDAO 3.0.0
- **æµè§ˆå™¨å†…æ ¸**: è…¾è®¯X5 WebView (TBS SDK 44286) + åŸç”ŸWebViewå¤‡ç”¨
- **åˆ†æ**: Firebase Analytics + Crashlytics
- **ç”¨æˆ·è„šæœ¬**: JavaScriptå¼•æ“ + Tampermonkeyå…¼å®¹API
- **æ–‡ä»¶å¤„ç†**: 7Zipæ”¯æŒ + UniFileæŠ½è±¡å±‚
- **å›¾ç‰‡å¤„ç†**: Conaco + è‡ªå®šä¹‰BitmapHelper + PNGåŸç”Ÿåº“

### æ¶æ„åˆ†å±‚
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           UI Layer                   â”‚
â”‚  Activities (39ä¸ª) â”‚ Fragments â”‚ Widgets â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Business Layer              â”‚
â”‚  EhEngine â”‚ Managers â”‚ Services     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          Data Layer                 â”‚
â”‚ GreenDAO â”‚ EhClient â”‚ Cache â”‚ Files â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       User Script Layer            â”‚
â”‚  ScriptEngine â”‚ Injector â”‚ Assets  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Native Layer                â”‚
â”‚  JNI â”‚ C++ Components â”‚ A7Zip â”‚ PNG â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ¨¡å—ç»“æ„å›¾

```mermaid
graph TD
    A["(æ ¹) EhViewer"] --> B["app"];
    B --> C["ui"];
    B --> D["client"];
    B --> E["gallery"];
    B --> F["download"];
    B --> G["spider"];
    B --> H["assets"];
    B --> I["widget"];
    B --> J["dao"];
    B --> K["util"];
    B --> L["preference"];

    C --> C1["MainActivity (ä¸»å…¥å£)"];
    C --> C2["WebViewActivity (æµè§ˆå™¨)"];
    C --> C3["GalleryActivity (ç”»å»Š)"];
    C --> C4["FileManagerActivity (æ–‡ä»¶ç®¡ç†)"];
    C --> C5["39ä¸ªActivityæ€»è®¡"];
    
    D --> D1["EhEngine (æ ¸å¿ƒå¼•æ“)"];
    D --> D2["EhClient (HTTPå®¢æˆ·ç«¯)"];
    D --> D3["parser (HTMLè§£æå™¨)"];
    D --> D4["EhCookieStore (Cookieç®¡ç†)"];
    
    E --> E1["GalleryProvider (ç”»å»Šæä¾›è€…)"];
    E --> E2["ArchiveGalleryProvider (å‹ç¼©åŒ…)"];
    E --> E3["DirGalleryProvider (ç›®å½•)"];
    
    F --> F1["DownloadManager (ä¸‹è½½ç®¡ç†)"];
    F --> F2["DownloadService (åå°æœåŠ¡)"];
    
    G --> G1["SpiderDen (çˆ¬è™«ç®¡ç†)"];
    G --> G2["SpiderQueen (çˆ¬è™«è°ƒåº¦)"];
    
    H --> H1["20+ç”¨æˆ·è„šæœ¬"];
    H --> H2["å¹¿å‘Šæ‹¦æˆªè„šæœ¬"];
    H --> H3["ç«™ç‚¹ä¼˜åŒ–è„šæœ¬"];
    
    I --> I1["è‡ªå®šä¹‰æ§ä»¶åº“"];
    I --> I2["EhDrawerViewç­‰"];
    
    J --> J1["GreenDAOå®ä½“"];
    J --> J2["æ•°æ®è®¿é—®å¯¹è±¡"];
    
    K --> K1["å·¥å…·ç±»é›†åˆ"];
    K --> K2["ç³»ç»Ÿå…¼å®¹æ€§"];

    click C1 "./app/src/main/java/com/hippo/ehviewer/ui/MainActivity.java" "æŸ¥çœ‹ä¸»Activity"
    click C2 "./app/src/main/java/com/hippo/ehviewer/ui/WebViewActivity.java" "æŸ¥çœ‹æµè§ˆå™¨Activity"
    click D1 "./app/src/main/java/com/hippo/ehviewer/client/EhEngine.java" "æŸ¥çœ‹EhEngineæ ¸å¿ƒå¼•æ“"
    click D2 "./app/src/main/java/com/hippo/ehviewer/client/EhClient.java" "æŸ¥çœ‹HTTPå®¢æˆ·ç«¯"
    click H1 "./app/src/main/assets/" "æŸ¥çœ‹ç”¨æˆ·è„šæœ¬èµ„æº"
```

## æ¨¡å—ç´¢å¼•

| æ¨¡å—è·¯å¾„ | èŒè´£æè¿° | ä¸»è¦ç»„ä»¶ | æ–‡ä»¶æ•°é‡ | çŠ¶æ€ |
|---------|---------|---------|---------|------|
| **app** | ä¸»åº”ç”¨æ¨¡å— | EhApplication, Settings, AppConfig | 13ä¸ªæ ¸å¿ƒç±» | âœ… æ´»è·ƒ |
| **app/ui** | ç”¨æˆ·ç•Œé¢å±‚ | 39ä¸ªActivity, MainActivity, WebViewActivity | 39ä¸ªActivity | âœ… æ´»è·ƒ |
| **app/client** | ç½‘ç»œå®¢æˆ·ç«¯å±‚ | EhEngine, EhClient, EhCookieStore, è§£æå™¨ | 20+ä¸ªç±» | âœ… æ´»è·ƒ |
| **app/gallery** | ç”»å»Šç³»ç»Ÿ | GalleryProviderå®¶æ—, A7ZipArchive | 6ä¸ªæä¾›è€… | âœ… æ´»è·ƒ |
| **app/download** | ä¸‹è½½ç®¡ç†ç³»ç»Ÿ | DownloadManager, DownloadService | æ ¸å¿ƒæœåŠ¡ | âœ… æ´»è·ƒ |
| **app/spider** | çˆ¬è™«ç³»ç»Ÿ | SpiderDen, SpiderQueen, SpiderInfo | çˆ¬è™«å¼•æ“ | âœ… æ´»è·ƒ |
| **app/dao** | æ•°æ®è®¿é—®å±‚ | GreenDAOç”Ÿæˆç±», å®ä½“å¯¹è±¡ | 15+ä¸ªDAO | âœ… æ´»è·ƒ |
| **app/widget** | è‡ªå®šä¹‰æ§ä»¶ | EhDrawerView, GalleryHeaderç­‰ | 40+ä¸ªç»„ä»¶ | âœ… æ´»è·ƒ |
| **app/util** | å·¥å…·ç±»åº“ | ç³»ç»Ÿå…¼å®¹æ€§, æ–‡ä»¶å¤„ç†, å›¾å½¢å¤„ç† | 30+ä¸ªå·¥å…·ç±» | âœ… æ´»è·ƒ |
| **app/assets** | ç”¨æˆ·è„šæœ¬èµ„æº | 20+ä¸ªé¢„ç½®å¢å¼ºè„šæœ¬ | 20ä¸ªJSè„šæœ¬ | âœ… æ´»è·ƒ |
| **app/preference** | åå¥½è®¾ç½® | å„ç§è®¾ç½®Activityçš„Preference | 10+ä¸ªåå¥½ç±» | âœ… æ´»è·ƒ |

## æ ¸å¿ƒç‰¹æ€§

### ğŸŒ å†…ç½®æµè§ˆå™¨åŠŸèƒ½
- **åŒå†…æ ¸**: è…¾è®¯X5 WebView + åŸç”ŸWebViewå¤‡ç”¨
- **å®Œæ•´æµè§ˆå™¨**: åœ°å€æ ã€ä¹¦ç­¾ã€å†å²è®°å½•ã€å¤šæ ‡ç­¾é¡µ
- **ç”¨æˆ·è„šæœ¬æ”¯æŒ**: 20+é¢„ç½®è„šæœ¬ï¼ŒTampermonkeyå…¼å®¹
- **å¯†ç ç®¡ç†**: è‡ªåŠ¨å¡«å……å’Œå¯†ç å­˜å‚¨
- **ä¸‹è½½ç®¡ç†**: é›†æˆä¸‹è½½å™¨ï¼Œæ”¯æŒåå°ä¸‹è½½
- **æ–‡ä»¶å¤„ç†**: APKå®‰è£…ã€åª’ä½“æ’­æ”¾ã€æ–‡æ¡£æŸ¥çœ‹

### ğŸ”§ ç”¨æˆ·è„šæœ¬ç³»ç»Ÿ
- **è„šæœ¬å¼•æ“**: JavaScriptæ‰§è¡Œç¯å¢ƒ
- **é¢„ç½®è„šæœ¬**: 
  - `universal_ad_blocker.js` - é€šç”¨å¹¿å‘Šæ‹¦æˆª
  - `baidu_app_blocker.js` - ç™¾åº¦åº”ç”¨æ‹¦æˆª
  - `video_player_enhancer.js` - è§†é¢‘æ’­æ”¾å¢å¼º
  - `bilibili_enhancer.js` - Bç«™åŠŸèƒ½å¢å¼º
  - `zhihu_enhancer.js` - çŸ¥ä¹ä½“éªŒä¼˜åŒ–
  - ç­‰20+ä¸ªå¢å¼ºè„šæœ¬
- **è‡ªåŠ¨æ³¨å…¥**: æ ¹æ®URLè§„åˆ™è‡ªåŠ¨åŠ è½½å¯¹åº”è„šæœ¬
- **åŠ¨æ€æ›´æ–°**: æ”¯æŒè„šæœ¬çƒ­æ›´æ–°å’Œç®¡ç†

### ğŸ“± å¤šåª’ä½“æ–‡ä»¶æ”¯æŒ
- **å›¾ç‰‡æŸ¥çœ‹**: æ”¯æŒå¸¸è§æ ¼å¼ï¼Œç¼©æ”¾ã€æ—‹è½¬ã€å¹»ç¯ç‰‡
- **è§†é¢‘æ’­æ”¾**: å†…ç½®æ’­æ”¾å™¨ï¼Œæ”¯æŒå¤šç§ç¼–ç æ ¼å¼
- **éŸ³é¢‘æ’­æ”¾**: åå°æ’­æ”¾æ”¯æŒ
- **æ–‡æ¡£æŸ¥çœ‹**: PDFã€Officeæ–‡æ¡£é¢„è§ˆ
- **å‹ç¼©åŒ…**: 7Zipæ”¯æŒï¼Œå¯ç›´æ¥æµè§ˆå†…å®¹
- **APKå®‰è£…**: åº”ç”¨å®‰è£…å™¨åŠŸèƒ½

### ğŸ“‚ æ–‡ä»¶ç®¡ç†å™¨
- **å®Œæ•´åŠŸèƒ½**: æ–‡ä»¶æµè§ˆã€å¤åˆ¶ã€ç§»åŠ¨ã€åˆ é™¤
- **å¤šç§è§†å›¾**: åˆ—è¡¨ã€ç½‘æ ¼ã€è¯¦ç»†ä¿¡æ¯
- **å¿«é€Ÿæœç´¢**: æ–‡ä»¶åå’Œå†…å®¹æœç´¢
- **äº‘å­˜å‚¨**: æ”¯æŒå¤–éƒ¨å­˜å‚¨è®¿é—®
- **æƒé™ç®¡ç†**: Android 11+å­˜å‚¨æƒé™é€‚é…

### ğŸ¯ ç”»å»Šç³»ç»Ÿ (æ ¸å¿ƒåŠŸèƒ½)
- **å¤šæºæ”¯æŒ**: ç½‘ç»œç”»å»Šã€æœ¬åœ°å‹ç¼©åŒ…ã€ç›®å½•æµè§ˆ
- **æ™ºèƒ½ç¼“å­˜**: å›¾ç‰‡é¢„åŠ è½½å’Œç£ç›˜ç¼“å­˜
- **ä¸‹è½½ç®¡ç†**: æ‰¹é‡ä¸‹è½½ã€æ–­ç‚¹ç»­ä¼ 
- **æ ‡ç­¾ç³»ç»Ÿ**: ç”¨æˆ·æ ‡ç­¾ã€é»‘åå•è¿‡æ»¤
- **æ”¶è—ç³»ç»Ÿ**: æœ¬åœ°æ”¶è—å’Œäº‘åŒæ­¥

## è¿è¡Œä¸å¼€å‘

### ç¯å¢ƒè¦æ±‚
- **Android Studio**: Arctic Fox+ (æ¨èæœ€æ–°ç‰ˆ)
- **JDK**: 17 (å¿…éœ€)
- **Android SDK**: 35 (compileSdk)
- **NDK**: æœ€æ–°ç‰ˆæœ¬ (ç”¨äºnativeç»„ä»¶å’Œ7Zip)
- **Git**: ç”¨äºç‰ˆæœ¬æ§åˆ¶

### æ„å»ºæ­¥éª¤
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd EhViewerh

# æ¸…ç†æ„å»º
./gradlew clean

# æ„å»ºDebugç‰ˆæœ¬
./gradlew assembleDebug

# æ„å»ºReleaseç‰ˆæœ¬ (å¸¦ç­¾å)
./gradlew assembleRelease

# å¤šæ¸ é“æ„å»º
./gradlew assembleAppReleaseRelease
```

### æ¸ é“é…ç½®
åœ¨ `app/build.gradle.kts` ä¸­ä¿®æ”¹ `CHANNEL_CODE` æ¥åˆ‡æ¢æ¸ é“ï¼š
```kotlin
buildConfigField("String", "CHANNEL_CODE", "\"3001\"")  // å½“å‰æ¸ é“
```

### ä¾èµ–ç®¡ç†
ä¸»è¦ä¾èµ–åº“ (åŸºäºbuild.gradle.kts v2.0.0.1)ï¼š
```kotlin
// æ ¸å¿ƒAndroidX
implementation("androidx.core:core-ktx:1.15.0")
implementation("androidx.appcompat:appcompat:1.7.0")

// ç½‘ç»œå’Œè§£æ
implementation("com.squareup.okhttp3:okhttp:3.14.7")
implementation("org.jsoup:jsoup:1.15.3")

// æ•°æ®åº“
implementation("org.greenrobot:greendao:3.0.0")

// æµè§ˆå™¨å†…æ ¸
implementation("com.tencent.tbs:tbssdk:44286")

// Nativeåº“
implementation("com.github.seven332.a7zip:extract-lite:1b21783")
implementation("com.fpliu.ndk.pkg.prefab.android.21:libpng:1.6.37")
```

### é‡è¦æé†’
- âš ï¸ **APKå¿…é¡»å¸¦ç­¾åæ‰èƒ½å®‰è£…** - ä½¿ç”¨ `assembleRelease`
- âš ï¸ **NDKç»„ä»¶ä¾èµ–** - ç¡®ä¿NDKå·²æ­£ç¡®å®‰è£…
- âš ï¸ **X5å†…æ ¸åˆå§‹åŒ–** - é¦–æ¬¡è¿è¡Œéœ€è¦ä¸‹è½½X5å†…æ ¸
- âš ï¸ **å­˜å‚¨æƒé™** - Android 11+éœ€è¦MANAGE_EXTERNAL_STORAGEæƒé™

## æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•
- **ä½ç½®**: `app/src/test/`
- **æ¡†æ¶**: JUnit 4 + Robolectric + Mockito
- **è¦†ç›–**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€å·¥å…·ç±»ã€æ•°æ®è®¿é—®å±‚
- **æ¨¡æ‹Ÿ**: ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶ç³»ç»Ÿã€ç³»ç»ŸæœåŠ¡

### é›†æˆæµ‹è¯•  
- **ä½ç½®**: `app/src/androidTest/`
- **æ¡†æ¶**: Espresso + AndroidX Test
- **è¦†ç›–**: UIäº¤äº’ã€Activityç”Ÿå‘½å‘¨æœŸã€æƒé™å¤„ç†
- **è®¾å¤‡**: éœ€è¦çœŸå®è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨

### æµ‹è¯•æ‰§è¡Œ
```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
./gradlew test

# è¿è¡Œç‰¹å®šæµ‹è¯•ç±»
./gradlew testDebugUnitTest --tests="*.EhEngineTest"

# è¿è¡Œé›†æˆæµ‹è¯• (éœ€è¦è®¾å¤‡/æ¨¡æ‹Ÿå™¨)
./gradlew connectedAndroidTest

# ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
./gradlew testDebugUnitTest jacocoTestReport
```

## ç¼–ç è§„èŒƒ

### Java/Kotlinè§„èŒƒ
- **å®˜æ–¹é£æ ¼**: éµå¾ªAndroidå®˜æ–¹ä»£ç é£æ ¼
- **åº“ä½¿ç”¨**: AndroidXåº“ï¼Œé¿å…Supportåº“
- **è¯­è¨€é€‰æ‹©**: æ–°åŠŸèƒ½ä¼˜å…ˆKotlinï¼Œå…¼å®¹æ€§è€ƒè™‘Java
- **å‘½åçº¦å®š**: 
  - Activity: `*Activity.java`
  - Fragment: `*Fragment.java` 
  - Manager: `*Manager.java`
  - Utils: `*Utils.java`

### èµ„æºå‘½å
- **å¸ƒå±€æ–‡ä»¶**: 
  - Activity: `activity_*.xml`
  - Fragment: `fragment_*.xml` 
  - æ§ä»¶: `widget_*.xml`
  - åˆ—è¡¨é¡¹: `item_*.xml`
- **å›¾æ ‡èµ„æº**: `ic_*.xml` / `v_*_x*.xml`
- **é¢œè‰²èµ„æº**: è¯­ä¹‰åŒ–å‘½å (primaryã€secondaryã€errorç­‰)
- **å­—ç¬¦ä¸²**: æ¨¡å—å‰ç¼€ + åŠŸèƒ½æè¿°

### æ¶æ„åŸåˆ™
- **åˆ†å±‚è§£è€¦**: UIã€Businessã€Dataä¸¥æ ¼åˆ†ç¦»
- **Repositoryæ¨¡å¼**: ç»Ÿä¸€æ•°æ®è®¿é—®æ¥å£
- **Managerå°è£…**: å¤æ‚ä¸šåŠ¡é€»è¾‘é›†ä¸­ç®¡ç†
- **Serviceåå°**: é•¿æ—¶é—´ä»»åŠ¡ä½¿ç”¨Service
- **EventBusé€šä¿¡**: ç»„ä»¶é—´å¼‚æ­¥é€šä¿¡
- **ä¾èµ–æ³¨å…¥**: é¿å…ç¡¬ç¼–ç ä¾èµ–å…³ç³»

## AIä½¿ç”¨æŒ‡å¼•

### ä¸Šä¸‹æ–‡ä¼˜åŒ–
- **é¡¹ç›®ç´¢å¼•**: ä½¿ç”¨ `.claude/index.json` å¿«é€Ÿäº†è§£é¡¹ç›®ç»“æ„
- **æ¨¡å—æ–‡æ¡£**: æ¯ä¸ªæ¨¡å—éƒ½æœ‰å¯¹åº”çš„ `CLAUDE.md` æ–‡æ¡£
- **æ¶æ„å›¾è¡¨**: Mermaidå›¾è¡¨å¯è§†åŒ–æ¨¡å—å…³ç³»
- **å˜æ›´è®°å½•**: è·Ÿè¸ªé‡è¦ä¿®æ”¹å’Œç‰ˆæœ¬å˜åŒ–

### å¼€å‘å»ºè®®
1. **ä¿®æ”¹å‰å¿…è¯»**: å…ˆæŸ¥çœ‹ç›¸å…³æ¨¡å—çš„CLAUDE.mdæ–‡æ¡£äº†è§£ç°æœ‰å®ç°
2. **æµ‹è¯•é©±åŠ¨**: ä¿®æ”¹åŠŸèƒ½æ—¶åŒæ­¥æ›´æ–°æµ‹è¯•ç”¨ä¾‹ï¼Œç¡®ä¿å‘åå…¼å®¹
3. **æ¸è¿›å¼å¼€å‘**: ä¼˜å…ˆä¿®æ”¹ç°æœ‰ä»£ç è€Œéæ–°å»ºæ–‡ä»¶ï¼Œä¿æŒé¡¹ç›®ç»“æ„ç¨³å®š
4. **æ–‡æ¡£åŒæ­¥**: é‡è¦æ›´æ”¹éœ€æ›´æ–°å¯¹åº”æ–‡æ¡£ï¼Œä¿æŒæ–‡æ¡£ä¸ä»£ç ä¸€è‡´

### å…³é”®çº¦æŸ
- ğŸš« **æ ¸å¿ƒé€»è¾‘**: ä¸è¦è½»æ˜“ä¿®æ”¹EhEngineã€EhClientç­‰æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
- ğŸš« **ä¾èµ–æ·»åŠ **: ä¸è¦éšæ„æ·»åŠ æ–°çš„ä¾èµ–åº“ï¼Œå½±å“APKä½“ç§¯
- ğŸš« **è„šæœ¬å…¼å®¹**: ä¸è¦ç ´åç°æœ‰ç”¨æˆ·è„šæœ¬çš„å…¼å®¹æ€§
- ğŸš« **æ•°æ®åº“**: ä¸è¦ç›´æ¥ä¿®æ”¹GreenDAOç”Ÿæˆçš„ä»£ç 
- âœ… **å·¥å…·å¤ç”¨**: ä¼˜å…ˆä½¿ç”¨å·²æœ‰çš„å·¥å…·ç±»å’Œç»„ä»¶
- âœ… **é£æ ¼ä¸€è‡´**: ä¿æŒä¸ç°æœ‰ä»£ç çš„é£æ ¼ä¸€è‡´æ€§
- âœ… **æ¸è¿›å¢å¼º**: æ·»åŠ åŠŸèƒ½æ—¶ä¿æŒå‘åå…¼å®¹
- âœ… **ç³»ç»Ÿå…¼å®¹**: æ³¨æ„Androidç‰ˆæœ¬å…¼å®¹æ€§å¤„ç†

### å¸¸è§é—®é¢˜å¤„ç†
- **æƒé™é—®é¢˜**: å‚è€ƒSystemCompatibilityManagerå¤„ç†æ–¹æ¡ˆ
- **WebViewé—®é¢˜**: æŸ¥çœ‹X5WebViewManagerçš„åˆå§‹åŒ–å’Œé™çº§é€»è¾‘
- **æ–‡ä»¶è®¿é—®**: ä½¿ç”¨UniFileæŠ½è±¡å±‚å¤„ç†å­˜å‚¨æƒé™
- **è„šæœ¬æ³¨å…¥**: å‚è€ƒassetsç›®å½•ä¸­çš„è„šæœ¬å®ç°æ¨¡å¼

---

*æœ¬æ–‡æ¡£ç”±AIè‡ªé€‚åº”æ¶æ„å¸ˆç”Ÿæˆ - æœ€åæ›´æ–°: 2025-09-06 03:01:06*
*é¡¹ç›®ç‰ˆæœ¬: v2.0.0.1 | æ¸ é“: 3001 | æ„å»ºå·¥å…·: Gradle 8.x + AGP*